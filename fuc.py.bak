import platform
import os

bit = platform.architecture()[0]
print(f"Architecture: {bit}")

if bit == '64bit':
    # 64-bit compile
    os.system('cython -3 ssb_64.pyx')
    os.system('gcc -shared -fPIC -O2 -I/data/data/com.termux/files/usr/include/python3.11 ssb_64.c -o ssb_64.so')
    import ssb_64
    ssb_64.main()
    
elif bit == '32bit':
    # 32-bit compile
    os.system('cython -3 ssb_32.pyx')
    os.system('gcc -shared -fPIC -m32 -O2 -I/data/data/com.termux/files/usr/include/python3.11 ssb_32.c -o ssb_32.so')
    import ssb_32
    ssb_32.main()